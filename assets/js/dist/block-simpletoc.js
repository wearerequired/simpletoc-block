window.addEventListener("load",(async()=>{await new Promise((t=>setTimeout(t,1e3)));const t=document.querySelector(".simpletoc-list > ul, .simpletoc-list > ol");if(!t)return;const e=document.querySelector(".simpletoc-list").querySelectorAll("a");if(!e.length)return;const o=(t=>Array.from(t).map((t=>t.getAttribute("href"))).map((t=>document.querySelector(t))).filter(Boolean))(e).reverse();if(!o.length)return;const n=o.length-1;window.addEventListener("scroll",(()=>{const r=(t=>t.map((t=>{const{top:e}=t.getBoundingClientRect();return e+document.body.scrollTop})))(o),i=(t=>{const e=.75*window.innerHeight,o=t.findIndex((t=>t<=e));return-1===o?t.length-1:o})(r),l=o[i];e.forEach((t=>{t.classList.remove("current")}));const c=document.querySelector(`.simpletoc-list a[href="#${l.getAttribute("id")}"]`);(t=>{const e=t.getBoundingClientRect();return e.top>=0&&e.left>=0&&e.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&e.right<=(window.innerWidth||document.documentElement.clientWidth)})(c)||function(t,e){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"vertical";const{top:n,left:r}=t.getBoundingClientRect(),{top:i,left:l}=e.getBoundingClientRect(),c=r-l+e.scrollLeft,s=n-i+e.scrollTop;"vertical"===o?e.scrollTo({top:s,behavior:"smooth"}):e.scrollTo({left:c,behavior:"smooth"})}(c,t,"horizontal"),c.classList.add("current");const s=100*((()=>{const{top:t}=document.body.getBoundingClientRect();return Math.abs(t)})()/(document.body.scrollHeight-window.innerHeight)).toFixed(3),d=(u=[100-i/n*100,s]).reduce(((t,e)=>t+e))/u.length;var u;document.querySelector(".simpletoc-list .progress-bar-indicator").style.setProperty("--progress",d+"%")}))}));